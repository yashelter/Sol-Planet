import{P as B,T as ht,S as tt,M as ot,a as O,b as H,c as kt,K as et,d as at,e as yt,f as St,g as Tt,h as At,i as vt,s as Pt,j as m,k as p,l as A,t as lt,m as Et,n as ct,o as v,C as xt,p as Rt,q as Ct,r as R,u,v as C,w as It,x as z,y as Bt,z as ut,A as M,B as ft,D as dt,L as $,E as nt,F as Ot,G as Kt}from"./vendor.7d3e90d4.js";const Lt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}};Lt();const rt=new B("cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ"),J=new B("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),gt=new B("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),Nt=async(n,t)=>{const e=await n.account.candyMachine.fetch(t),r=e.data.itemsAvailable.toNumber(),i=e.itemsRedeemed.toNumber(),o=r-i;return{id:t,program:n,state:{itemsAvailable:r,itemsRedeemed:i,itemsRemaining:o,isSoldOut:o===0,isActive:e.data.goLiveDate.toNumber()<new Date().getTime()/1e3&&(e.endSettings?e.endSettings.endSettingType.date?e.endSettings.number.toNumber()>new Date().getTime()/1e3:i<e.endSettings.number.toNumber():!0),goLiveDate:e.data.goLiveDate,treasury:e.wallet,tokenMint:e.tokenMint,gatekeeper:e.data.gatekeeper,endSettings:e.data.endSettings,whitelistMintSettings:e.data.whitelistMintSettings,hiddenSettings:e.data.hiddenSettings,price:e.data.price}}};var mt;(function(n){n[n.Sequential=0]="Sequential",n[n.Parallel=1]="Parallel",n[n.StopOnFailure=2]="StopOnFailure"})(mt||(mt={}));const Mt=async(n,t,e,r,i=1,o="singleGossip",s=(f,c)=>{},l=(f,c)=>!1,a)=>{const f=[];a||(a=await n.getRecentBlockhash(o));for(let g=0;g<e.length;g++){const b=e[g],k=r[g];if(b.length===0)continue;let _=new ht;b.forEach(x=>_.add(x)),_.recentBlockhash=a.blockhash,_.setSigners(t.publicKey,...k.map(x=>x.publicKey)),k.length>0&&_.partialSign(...k),f.push(_)}const c=await t.signAllTransactions(f),d=[];let S={breakEarly:!1,i:0};console.log("Signed txns length",c.length,"vs handed in length",e.length);for(let g=0;g<c.length;g++){const b=Dt({connection:n,signedTransaction:c[g]});if(b.then(({txid:k,slot:_})=>{s(k,g)}).catch(k=>{l(c[g],g),i===2&&(S.breakEarly=!0,S.i=g)}),i!==1)try{await b}catch(k){if(console.log("Caught failure",k),S.breakEarly)return console.log("Died on ",S.i),{number:S.i,txs:await Promise.all(d)}}else d.push(b)}return i!==1&&await Promise.all(d),{number:c.length,txs:await Promise.all(d)}},st=()=>new Date().getTime()/1e3,Wt=15e3;async function Dt({signedTransaction:n,connection:t,timeout:e=Wt}){const r=n.serialize(),i=st();let o=0;const s=await t.sendRawTransaction(r,{skipPreflight:!0});console.log("Started awaiting confirmation for",s);let l=!1;(async()=>{for(;!l&&st()-i<e;)t.sendRawTransaction(r,{skipPreflight:!0}),await bt(500)})();try{const a=await pt(s,e,t,"recent",!0);if(!a)throw new Error("Timed out awaiting confirmation on transaction");if(a.err)throw console.error(a.err),new Error("Transaction failed: Custom instruction error");o=(a==null?void 0:a.slot)||0}catch(a){if(console.error("Timeout Error caught",a),a.timeout)throw new Error("Timed out awaiting confirmation on transaction");let f=null;try{f=(await Ut(t,n,"single")).value}catch{}if(f&&f.err){if(f.logs)for(let c=f.logs.length-1;c>=0;--c){const d=f.logs[c];if(d.startsWith("Program log: "))throw new Error("Transaction failed: "+d.slice("Program log: ".length))}throw new Error(JSON.stringify(f.err))}}finally{l=!0}return console.log("Latency",s,st()-i),{txid:s,slot:o}}async function Ut(n,t,e){t.recentBlockhash=await n._recentBlockhash(n._disableBlockhashCaching);const r=t.serializeMessage(),l=[t._serialize(r).toString("base64"),{encoding:"base64",commitment:e}],a=await n._rpcRequest("simulateTransaction",l);if(a.error)throw new Error("failed to simulate transaction: "+a.error.message);return a.result}async function pt(n,t,e,r="recent",i=!1){let o=!1,s={slot:0,confirmations:0,err:null},l=0;return s=await new Promise(async(a,f)=>{setTimeout(()=>{o||(o=!0,console.log("Rejecting for timeout..."),f({timeout:!0}))},t);try{l=e.onSignature(n,(c,d)=>{o=!0,s={err:c.err,slot:d.slot,confirmations:0},c.err?(console.log("Rejected via websocket",c.err),f(s)):(console.log("Resolved via websocket",c),a(s))},r)}catch(c){o=!0,console.error("WS error in setup",n,c)}for(;!o&&i;)(async()=>{try{const c=await e.getSignatureStatuses([n]);s=c&&c.value[0],o||(s?s.err?(console.log("REST error for",n,s),o=!0,f(s.err)):s.confirmations?(console.log("REST confirmation for",n,s),o=!0,a(s)):console.log("REST no confirmations for",n,s):console.log("REST null result for",n,s))}catch(c){o||console.log("REST connection error: txid",n,c)}})(),await bt(2e3)}),e._signatureSubscriptions[l]&&e.removeSignatureListener(l),o=!0,console.log("Returning status",s),s}function bt(n){return new Promise(t=>setTimeout(t,n))}const Ft=async(n,t,e)=>{console.log(e.publicKey);const r=(await it(e.publicKey,t))[0],i=n.state.tokenMint?(await it(n.state.tokenMint,t))[0]:t,o=n.id,s=[],l=[e],a=[],f=await Vt(e.publicKey),c=await Yt(e.publicKey),[d,S]=await Ht(o),g=[tt.createAccount({fromPubkey:t,newAccountPubkey:e.publicKey,space:ot.span,lamports:await n.program.provider.connection.getMinimumBalanceForRentExemption(ot.span),programId:O}),H.createInitMintInstruction(O,e.publicKey,0,t,t),Gt(r,t,t,e.publicKey),H.createMintToInstruction(O,e.publicKey,r,t,[],1)];if(n.state.whitelistMintSettings){const b=new B(n.state.whitelistMintSettings.mint),k=(await it(b,t))[0];if(s.push({pubkey:k,isWritable:!0,isSigner:!1}),n.state.whitelistMintSettings.mode.burnEveryTime){const _=et.generate();s.push({pubkey:b,isWritable:!0,isSigner:!1}),s.push({pubkey:_.publicKey,isWritable:!1,isSigner:!0}),l.push(_),await n.program.provider.connection.getAccountInfo(k)&&(g.push(H.createApproveInstruction(O,k,_.publicKey,t,[],1)),a.push(H.createRevokeInstruction(O,k,t,[])))}}if(n.state.tokenMint){const b=et.generate();l.push(b),s.push({pubkey:i,isWritable:!0,isSigner:!1}),s.push({pubkey:b.publicKey,isWritable:!1,isSigner:!0}),g.push(H.createApproveInstruction(O,i,b.publicKey,t,[],n.state.price.toNumber())),a.push(H.createRevokeInstruction(O,i,t,[]))}g.push(await n.program.instruction.mintNft(S,{accounts:{candyMachine:o,candyMachineCreator:d,payer:t,wallet:n.state.treasury,mint:e.publicKey,metadata:f,masterEdition:c,mintAuthority:t,updateAuthority:t,tokenMetadataProgram:J,tokenProgram:O,systemProgram:tt.programId,rent:at,clock:yt,recentBlockhashes:St,instructionSysvarAccount:Tt},remainingAccounts:s.length>0?s:void 0}));try{return(await Mt(n.program.provider.connection,n.program.provider.wallet,[g,a],[l,[]])).txs.map(b=>b.txid)}catch(b){console.log(b)}return[]},it=async(n,t)=>await B.findProgramAddress([t.toBuffer(),O.toBuffer(),n.toBuffer()],gt),Gt=(n,t,e,r)=>{const i=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:tt.programId,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!1},{pubkey:at,isSigner:!1,isWritable:!1}];return new kt({keys:i,programId:gt,data:Buffer.from([])})},Yt=async n=>(await B.findProgramAddress([Buffer.from("metadata"),J.toBuffer(),n.toBuffer(),Buffer.from("edition")],J))[0],Vt=async n=>(await B.findProgramAddress([Buffer.from("metadata"),J.toBuffer(),n.toBuffer()],J))[0],Ht=async n=>await B.findProgramAddress([Buffer.from("candy_machine"),n.toBuffer()],rt);function zt(n){let t,e,r,i,o,s,l,a,f,c,d,S,g,b,k,_,x,j,W,q,K,U,V,F,Z,Q,G,L,D,P=n[11]&&_t();function X(w,N){return w[0]?qt:Zt}let Y=X(n),I=Y(n);function h(w,N){return w[14]?w[0]?!w[9]&&!w[11]?Xt:w[8]?Qt:Jt:$t:te}let T=h(n),y=T(n),E=n[7]&&wt(n);return{c(){t=C(),e=m("div"),r=m("div"),P&&P.c(),i=C(),o=m("div"),I.c(),s=C(),l=m("hr"),a=C(),f=m("br"),c=C(),d=m("div"),S=m("img"),b=C(),k=m("div"),k.textContent=`${ie}`,_=C(),x=m("div"),x.textContent=`${oe}`,j=C(),W=m("div"),y.c(),q=C(),K=m("div"),U=R(n[1]),V=R("/"),F=R(n[2]),Z=R(" claimed"),Q=C(),G=m("div"),E&&E.c(),p(o,"class","flex"),p(r,"class","justify-end flex p-3"),It(S.src,g=ae)||p(S,"src",g),p(S,"alt",""),p(S,"class","w-1/2 mx-auto m-5"),p(k,"class","text-lg sm:text-2xl font-mono font-bold py-5 tracking-wider"),p(x,"class","text-sm sm:text-md font-semibold pb-5 text-gray-600 "),p(W,"class","flex flex-col"),p(K,"class","tracking-widest font-bold text-sm pt-3 text-gray-400"),p(G,"class","flex flex-col pt-3"),p(d,"class","p-6"),p(e,"class","max-w-lg mx-auto bg-white rounded-lg my-12 border-2")},m(w,N){A(w,t,N),A(w,e,N),u(e,r),P&&P.m(r,null),u(r,i),u(r,o),I.m(o,null),u(e,s),u(e,l),u(e,a),u(e,f),u(e,c),u(e,d),u(d,S),u(d,b),u(d,k),u(d,_),u(d,x),u(d,j),u(d,W),y.m(W,null),u(d,q),u(d,K),u(K,U),u(K,V),u(K,F),u(K,Z),u(d,Q),u(d,G),E&&E.m(G,null),D=!0},p(w,N){w[11]?P||(P=_t(),P.c(),P.m(r,i)):P&&(P.d(1),P=null),Y===(Y=X(w))&&I?I.p(w,N):(I.d(1),I=Y(w),I&&(I.c(),I.m(o,null))),T===(T=h(w))&&y?y.p(w,N):(y.d(1),y=T(w),y&&(y.c(),y.m(W,null))),(!D||N&2)&&z(U,w[1]),(!D||N&4)&&z(F,w[2]),w[7]?E?E.p(w,N):(E=wt(w),E.c(),E.m(G,null)):E&&(E.d(1),E=null)},i(w){D||(Bt(()=>{L||(L=ut(e,dt,{},!0)),L.run(1)}),D=!0)},o(w){L||(L=ut(e,dt,{},!1)),L.run(0),D=!1},d(w){w&&v(t),w&&v(e),P&&P.d(),I.d(),y.d(),E&&E.d(),w&&L&&L.end()}}}function jt(n){let t;return{c(){t=m("div"),t.innerHTML='<div class="lds-hourglass m-auto"></div>',p(t,"class","h-full flex")},m(e,r){A(e,t,r)},p:M,i:M,o:M,d(e){e&&v(t)}}}function _t(n){let t;return{c(){t=m("div"),t.innerHTML=`<img src="/star.svg" alt="" class="w-5 mr-2"/> 
            <div class="my-auto text-gray-600 text-sm">Whitelist</div>`,p(t,"class","flex mr-auto")},m(e,r){A(e,t,r)},d(e){e&&v(t)}}}function qt(n){let t,e,r,i,o,s=n[0].slice(0,8)+"",l,a,f,c=(n[5]/$).toFixed(2)+"",d,S;return{c(){t=m("div"),e=m("div"),r=m("span"),i=C(),o=m("span"),l=R(s),a=C(),f=m("div"),d=R(c),S=R(" SOL"),p(r,"class","my-auto mr-2 rounded-full h-2 w-2 bg-green-500"),p(o,"class","my-auto text-gray-600 text-sm"),p(e,"class","flex"),p(f,"class","text-xs text-gray-600 text-right "),p(t,"class","flex flex-col")},m(g,b){A(g,t,b),u(t,e),u(e,r),u(e,i),u(e,o),u(o,l),u(t,a),u(t,f),u(f,d),u(f,S)},p(g,b){b&1&&s!==(s=g[0].slice(0,8)+"")&&z(l,s),b&32&&c!==(c=(g[5]/$).toFixed(2)+"")&&z(d,c)},d(g){g&&v(t)}}}function Zt(n){let t,e,r;return{c(){t=m("span"),e=C(),r=m("span"),r.textContent="Not Connected",p(t,"class","my-auto mr-2 rounded-full h-2 w-2 bg-gray-500"),p(r,"class","my-auto text-gray-600 text-sm")},m(i,o){A(i,t,o),A(i,e,o),A(i,r,o)},p:M,d(i){i&&v(t),i&&v(e),i&&v(r)}}}function Jt(n){let t,e,r;function i(l,a){return l[3]?re:l[4]?ne:ee}let o=i(n),s=o(n);return{c(){t=m("button"),s.c(),p(t,"class","px-3 py-2 rounded-md bg-sky-600 hover:bg-sky-700 text-white font-bold disabled:bg-gray-400"),t.disabled=n[3]},m(l,a){A(l,t,a),s.m(t,null),e||(r=nt(t,"click",n[16]),e=!0)},p(l,a){o===(o=i(l))&&s?s.p(l,a):(s.d(1),s=o(l),s&&(s.c(),s.m(t,null))),a&8&&(t.disabled=l[3])},d(l){l&&v(t),s.d(),e=!1,r()}}}function Qt(n){let t;return{c(){t=m("button"),t.textContent="Sold Out!",p(t,"class","px-3 py-2 rounded-md bg-sky-600 hover:bg-sky-700 text-white font-bold ")},m(e,r){A(e,t,r)},p:M,d(e){e&&v(t)}}}function Xt(n){let t,e,r=n[13].toUTCString()+"",i;return{c(){t=m("button"),e=R("Mint live @ "),i=R(r),p(t,"class","px-3 py-2 rounded-md bg-sky-600 hover:bg-sky-700 text-white font-bold disabled:bg-gray-400 "),t.disabled=!0},m(o,s){A(o,t,s),u(t,e),u(t,i)},p(o,s){s&8192&&r!==(r=o[13].toUTCString()+"")&&z(i,r)},d(o){o&&v(t)}}}function $t(n){let t,e,r;return{c(){t=m("button"),t.textContent="Connect",p(t,"class","px-3 py-2 rounded-md bg-sky-600 hover:bg-sky-700 text-white font-bold")},m(i,o){A(i,t,o),e||(r=nt(t,"click",n[15]),e=!0)},p:M,d(i){i&&v(t),e=!1,r()}}}function te(n){let t,e,r;return{c(){t=m("button"),t.textContent="Get Phantom Wallet",p(t,"class","px-3 py-2 rounded-md bg-sky-600 hover:bg-sky-700 text-white font-bold")},m(i,o){A(i,t,o),e||(r=nt(t,"click",n[18]),e=!0)},p:M,d(i){i&&v(t),e=!1,r()}}}function ee(n){let t,e,r=((n[11]?n[12]:n[10])/$).toFixed(2)+"",i,o;return{c(){t=m("span"),e=R("Mint ("),i=R(r),o=R(" SOL)")},m(s,l){A(s,t,l),u(t,e),u(t,i),u(t,o)},p(s,l){l&7168&&r!==(r=((s[11]?s[12]:s[10])/$).toFixed(2)+"")&&z(i,r)},d(s){s&&v(t)}}}function ne(n){let t;return{c(){t=m("span"),t.textContent="Mint succesful! Mint another?"},m(e,r){A(e,t,r)},p:M,d(e){e&&v(t)}}}function re(n){let t;return{c(){t=m("span"),t.textContent="Minting ..."},m(e,r){A(e,t,r)},p:M,d(e){e&&v(t)}}}function wt(n){let t,e;return{c(){t=m("a"),e=R("View on Solana Explorer"),p(t,"href",n[7]),p(t,"target","_blank"),p(t,"class","text-purple-700 font-semibold p-1")},m(r,i){A(r,t,i),u(t,e)},p(r,i){i&128&&p(t,"href",r[7])},d(r){r&&v(t)}}}function se(n){let t,e,r,i;const o=[jt,zt],s=[];function l(a,f){return a[6]?0:1}return e=l(n),r=s[e]=o[e](n),{c(){t=m("main"),r.c(),p(t,"class","h-screen")},m(a,f){A(a,t,f),s[e].m(t,null),i=!0},p(a,[f]){let c=e;e=l(a),e===c?s[e].p(a,f):(Ct(),lt(s[c],1,1,()=>{s[c]=null}),Et(),r=s[e],r?r.p(a,f):(r=s[e]=o[e](a),r.c()),ct(r,1),r.m(t,null))},i(a){i||(ct(r),i=!0)},o(a){lt(r),i=!1},d(a){a&&v(t),s[e].d()}}}const ie="Shapes",oe="A collection of shapes on the blockchain",ae="/example.gif",le=3e4;function ce(n,t,e){let r,i,o;const{solana:s}=window,l={}.VITE_APP_SOLANA_NETWORK.toString(),a={}.VITE_APP_SOLANA_RPC_HOST.toString(),f=new B({}.VITE_APP_CANDY_MACHINE_ID.toString()),c={preflightCommitment:"processed"},d=new xt(a),S=new Ot(d,s,c.preflightCommitment);let g="",b=0,k=0,_,x=!1,j=!1,W=0,q=!0,K="",U=!1,V=!1,F=0,Z=!1;async function Q(){try{const h=await s.connect({onlyIfTrusted:!0});e(0,g=h.publicKey.toString()),h&&(await Y(),await P())}catch{}}async function G(){try{const h=await s.connect();e(0,g=h.publicKey.toString()),h&&(await Y(),await P())}catch{}}async function L(){try{const h=await ft.fetchIdl(rt,S),T=new ft(h,rt,S);e(17,_=await Nt(T,f)),e(2,{itemsAvailable:k,itemsRedeemed:b,isSoldOut:U,price:F,isActive:V}=_.state,k,e(1,b),e(8,U),e(10,F),e(9,V))}catch(h){console.error(h)}}async function D(){try{if(e(3,x=!0),(_==null?void 0:_.program)&&g){const h=et.generate(),T=(await Ft(_,new B(g),h))[0];let y={err:!0};T&&(y=await pt(T,le,d,"singleGossip",!0)),(y==null?void 0:y.err)?console.error("An error occurred"):(console.log("Success"),X(h.publicKey))}}catch(h){console.error("An error occurred ",h)}finally{e(3,x=!1)}}async function P(){const h=await d.getParsedTokenAccountsByOwner(new B(g),{programId:O});for(let T=0;T<h.value.length;T++){const y=h.value[T],E=y.account.data.parsed.info.tokenAmount;y.account.data.parsed.info.mint===i.toString()&&E.uiAmount>0&&(console.log("Welcome to the whitelist!"),e(11,Z=!0))}}function X(h){e(1,b+=1),e(4,j=!0),e(7,K=`https://explorer.solana.com/address/${h}?cluster=${l}`)}async function Y(){const h=new B(g);try{e(5,W=await d.getBalance(h))}catch(T){console.error(T)}}Rt(async()=>{await L(),s&&s.isPhantom&&await Q(),e(6,q=!1)});const I=()=>window.open("https://phantom.app/","_blank");return n.$$.update=()=>{var h,T,y;n.$$.dirty&131072&&e(13,r=new Date(((h=_==null?void 0:_.state.goLiveDate)==null?void 0:h.toNumber())*1e3)),n.$$.dirty&131072&&(i=(T=_==null?void 0:_.state.whitelistMintSettings)==null?void 0:T.mint),n.$$.dirty&131072&&e(12,o=(y=_==null?void 0:_.state.whitelistMintSettings)==null?void 0:y.discountPrice)},[g,b,k,x,j,W,q,K,U,V,F,Z,o,r,s,G,D,_,I]}class ue extends At{constructor(t){super();vt(this,t,ce,se,Pt,{})}}window.Buffer=Kt.Buffer;new ue({target:document.getElementById("app")});
