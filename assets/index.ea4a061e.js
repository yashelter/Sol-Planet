import{P as K,T as ht,S as tt,M as it,a as I,b as z,c as yt,K as et,d as at,e as kt,f as St,g as Tt,h as vt,i as At,s as xt,j as m,k as p,l as v,t as lt,m as Pt,n as ct,o as A,C as Et,p as Rt,q as Bt,r as R,u,v as B,w as Ct,x as V,y as Kt,z as ut,A as N,B as ft,D as dt,L as $,E as nt,F as It,G as Ot}from"./vendor.7d3e90d4.js";const Lt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}};Lt();const rt=new K("cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ"),J=new K("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),gt=new K("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),Mt=async(n,t)=>{const e=await n.account.candyMachine.fetch(t),r=e.data.itemsAvailable.toNumber(),o=e.itemsRedeemed.toNumber(),i=r-o;return{id:t,program:n,state:{itemsAvailable:r,itemsRedeemed:o,itemsRemaining:i,isSoldOut:i===0,isActive:e.data.goLiveDate.toNumber()<new Date().getTime()/1e3&&(e.endSettings?e.endSettings.endSettingType.date?e.endSettings.number.toNumber()>new Date().getTime()/1e3:o<e.endSettings.number.toNumber():!0),goLiveDate:e.data.goLiveDate,treasury:e.wallet,tokenMint:e.tokenMint,gatekeeper:e.data.gatekeeper,endSettings:e.data.endSettings,whitelistMintSettings:e.data.whitelistMintSettings,hiddenSettings:e.data.hiddenSettings,price:e.data.price}}};var mt;(function(n){n[n.Sequential=0]="Sequential",n[n.Parallel=1]="Parallel",n[n.StopOnFailure=2]="StopOnFailure"})(mt||(mt={}));const Nt=async(n,t,e,r,o=1,i="singleGossip",s=(f,c)=>{},l=(f,c)=>!1,a)=>{const f=[];a||(a=await n.getRecentBlockhash(i));for(let g=0;g<e.length;g++){const b=e[g],y=r[g];if(b.length===0)continue;let w=new ht;b.forEach(E=>w.add(E)),w.recentBlockhash=a.blockhash,w.setSigners(t.publicKey,...y.map(E=>E.publicKey)),y.length>0&&w.partialSign(...y),f.push(w)}const c=await t.signAllTransactions(f),d=[];let S={breakEarly:!1,i:0};console.log("Signed txns length",c.length,"vs handed in length",e.length);for(let g=0;g<c.length;g++){const b=Dt({connection:n,signedTransaction:c[g]});if(b.then(({txid:y,slot:w})=>{s(y,g)}).catch(y=>{l(c[g],g),o===2&&(S.breakEarly=!0,S.i=g)}),o!==1)try{await b}catch(y){if(console.log("Caught failure",y),S.breakEarly)return console.log("Died on ",S.i),{number:S.i,txs:await Promise.all(d)}}else d.push(b)}return o!==1&&await Promise.all(d),{number:c.length,txs:await Promise.all(d)}},st=()=>new Date().getTime()/1e3,Wt=15e3;async function Dt({signedTransaction:n,connection:t,timeout:e=Wt}){const r=n.serialize(),o=st();let i=0;const s=await t.sendRawTransaction(r,{skipPreflight:!0});console.log("Started awaiting confirmation for",s);let l=!1;(async()=>{for(;!l&&st()-o<e;)t.sendRawTransaction(r,{skipPreflight:!0}),await bt(500)})();try{const a=await pt(s,e,t,"recent",!0);if(!a)throw new Error("Timed out awaiting confirmation on transaction");if(a.err)throw console.error(a.err),new Error("Transaction failed: Custom instruction error");i=(a==null?void 0:a.slot)||0}catch(a){if(console.error("Timeout Error caught",a),a.timeout)throw new Error("Timed out awaiting confirmation on transaction");let f=null;try{f=(await Ut(t,n,"single")).value}catch{}if(f&&f.err){if(f.logs)for(let c=f.logs.length-1;c>=0;--c){const d=f.logs[c];if(d.startsWith("Program log: "))throw new Error("Transaction failed: "+d.slice("Program log: ".length))}throw new Error(JSON.stringify(f.err))}}finally{l=!0}return console.log("Latency",s,st()-o),{txid:s,slot:i}}async function Ut(n,t,e){t.recentBlockhash=await n._recentBlockhash(n._disableBlockhashCaching);const r=t.serializeMessage(),l=[t._serialize(r).toString("base64"),{encoding:"base64",commitment:e}],a=await n._rpcRequest("simulateTransaction",l);if(a.error)throw new Error("failed to simulate transaction: "+a.error.message);return a.result}async function pt(n,t,e,r="recent",o=!1){let i=!1,s={slot:0,confirmations:0,err:null},l=0;return s=await new Promise(async(a,f)=>{setTimeout(()=>{i||(i=!0,console.log("Rejecting for timeout..."),f({timeout:!0}))},t);try{l=e.onSignature(n,(c,d)=>{i=!0,s={err:c.err,slot:d.slot,confirmations:0},c.err?(console.log("Rejected via websocket",c.err),f(s)):(console.log("Resolved via websocket",c),a(s))},r)}catch(c){i=!0,console.error("WS error in setup",n,c)}for(;!i&&o;)(async()=>{try{const c=await e.getSignatureStatuses([n]);s=c&&c.value[0],i||(s?s.err?(console.log("REST error for",n,s),i=!0,f(s.err)):s.confirmations?(console.log("REST confirmation for",n,s),i=!0,a(s)):console.log("REST no confirmations for",n,s):console.log("REST null result for",n,s))}catch(c){i||console.log("REST connection error: txid",n,c)}})(),await bt(2e3)}),e._signatureSubscriptions[l]&&e.removeSignatureListener(l),i=!0,console.log("Returning status",s),s}function bt(n){return new Promise(t=>setTimeout(t,n))}const Gt=async(n,t,e)=>{console.log(e.publicKey);const r=(await ot(e.publicKey,t))[0],o=n.state.tokenMint?(await ot(n.state.tokenMint,t))[0]:t,i=n.id,s=[],l=[e],a=[],f=await jt(e.publicKey),c=await Yt(e.publicKey),[d,S]=await zt(i),g=[tt.createAccount({fromPubkey:t,newAccountPubkey:e.publicKey,space:it.span,lamports:await n.program.provider.connection.getMinimumBalanceForRentExemption(it.span),programId:I}),z.createInitMintInstruction(I,e.publicKey,0,t,t),Ft(r,t,t,e.publicKey),z.createMintToInstruction(I,e.publicKey,r,t,[],1)];if(n.state.whitelistMintSettings){const b=new K(n.state.whitelistMintSettings.mint),y=(await ot(b,t))[0];if(s.push({pubkey:y,isWritable:!0,isSigner:!1}),n.state.whitelistMintSettings.mode.burnEveryTime){const w=et.generate();s.push({pubkey:b,isWritable:!0,isSigner:!1}),s.push({pubkey:w.publicKey,isWritable:!1,isSigner:!0}),l.push(w),await n.program.provider.connection.getAccountInfo(y)&&(g.push(z.createApproveInstruction(I,y,w.publicKey,t,[],1)),a.push(z.createRevokeInstruction(I,y,t,[])))}}if(n.state.tokenMint){const b=et.generate();l.push(b),s.push({pubkey:o,isWritable:!0,isSigner:!1}),s.push({pubkey:b.publicKey,isWritable:!1,isSigner:!0}),g.push(z.createApproveInstruction(I,o,b.publicKey,t,[],n.state.price.toNumber())),a.push(z.createRevokeInstruction(I,o,t,[]))}g.push(await n.program.instruction.mintNft(S,{accounts:{candyMachine:i,candyMachineCreator:d,payer:t,wallet:n.state.treasury,mint:e.publicKey,metadata:f,masterEdition:c,mintAuthority:t,updateAuthority:t,tokenMetadataProgram:J,tokenProgram:I,systemProgram:tt.programId,rent:at,clock:kt,recentBlockhashes:St,instructionSysvarAccount:Tt},remainingAccounts:s.length>0?s:void 0}));try{return(await Nt(n.program.provider.connection,n.program.provider.wallet,[g,a],[l,[]])).txs.map(b=>b.txid)}catch(b){console.log(b)}return[]},ot=async(n,t)=>await K.findProgramAddress([t.toBuffer(),I.toBuffer(),n.toBuffer()],gt),Ft=(n,t,e,r)=>{const o=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:tt.programId,isSigner:!1,isWritable:!1},{pubkey:I,isSigner:!1,isWritable:!1},{pubkey:at,isSigner:!1,isWritable:!1}];return new yt({keys:o,programId:gt,data:Buffer.from([])})},Yt=async n=>(await K.findProgramAddress([Buffer.from("metadata"),J.toBuffer(),n.toBuffer(),Buffer.from("edition")],J))[0],jt=async n=>(await K.findProgramAddress([Buffer.from("metadata"),J.toBuffer(),n.toBuffer()],J))[0],zt=async n=>await K.findProgramAddress([Buffer.from("candy_machine"),n.toBuffer()],rt);function Vt(n){let t,e,r,o,i,s,l,a,f,c,d,S,g,b,y,w,E,q,W,H,O,U,j,G,Z,Q,F,L,D,x=n[11]&&wt();function X(_,M){return _[0]?Ht:Zt}let Y=X(n),C=Y(n);function h(_,M){return _[14]?_[0]?!_[9]&&!_[11]?Xt:_[8]?Qt:Jt:$t:te}let T=h(n),k=T(n),P=n[7]&&_t(n);return{c(){t=B(),e=m("div"),r=m("div"),x&&x.c(),o=B(),i=m("div"),C.c(),s=B(),l=m("hr"),a=B(),f=m("br"),c=B(),d=m("div"),S=m("img"),b=B(),y=m("div"),y.textContent=`${oe}`,w=B(),E=m("div"),E.textContent=`${ie}`,q=B(),W=m("div"),k.c(),H=B(),O=m("div"),U=R(n[1]),j=R("/"),G=R(n[2]),Z=R(" claimed"),Q=B(),F=m("div"),P&&P.c(),p(i,"class","flex"),p(r,"class","justify-end flex p-3"),Ct(S.src,g=ae)||p(S,"src",g),p(S,"alt",""),p(S,"class","w-1/2 mx-auto m-5"),p(y,"class","text-lg sm:text-2xl font-mono font-bold py-5 tracking-wider"),p(E,"class","text-sm sm:text-md font-semibold pb-5 text-gray-600 "),p(W,"class","flex flex-col"),p(O,"class","tracking-widest font-bold text-sm pt-3 text-gray-400"),p(F,"class","flex flex-col pt-3"),p(d,"class","p-6"),p(e,"class","max-w-lg mx-auto bg-white rounded-lg my-12 border-2")},m(_,M){v(_,t,M),v(_,e,M),u(e,r),x&&x.m(r,null),u(r,o),u(r,i),C.m(i,null),u(e,s),u(e,l),u(e,a),u(e,f),u(e,c),u(e,d),u(d,S),u(d,b),u(d,y),u(d,w),u(d,E),u(d,q),u(d,W),k.m(W,null),u(d,H),u(d,O),u(O,U),u(O,j),u(O,G),u(O,Z),u(d,Q),u(d,F),P&&P.m(F,null),D=!0},p(_,M){_[11]?x||(x=wt(),x.c(),x.m(r,o)):x&&(x.d(1),x=null),Y===(Y=X(_))&&C?C.p(_,M):(C.d(1),C=Y(_),C&&(C.c(),C.m(i,null))),T===(T=h(_))&&k?k.p(_,M):(k.d(1),k=T(_),k&&(k.c(),k.m(W,null))),(!D||M&2)&&V(U,_[1]),(!D||M&4)&&V(G,_[2]),_[7]?P?P.p(_,M):(P=_t(_),P.c(),P.m(F,null)):P&&(P.d(1),P=null)},i(_){D||(Kt(()=>{L||(L=ut(e,dt,{},!0)),L.run(1)}),D=!0)},o(_){L||(L=ut(e,dt,{},!1)),L.run(0),D=!1},d(_){_&&A(t),_&&A(e),x&&x.d(),C.d(),k.d(),P&&P.d(),_&&L&&L.end()}}}function qt(n){let t;return{c(){t=m("div"),t.innerHTML='<div class="lds-hourglass m-auto"></div>',p(t,"class","h-full flex")},m(e,r){v(e,t,r)},p:N,i:N,o:N,d(e){e&&A(t)}}}function wt(n){let t;return{c(){t=m("div"),t.innerHTML=`<img src="/star.svg" alt="" class="w-5 mr-2"/> 
            <div class="my-auto text-gray-600 text-sm">Whitelist</div>`,p(t,"class","flex mr-auto")},m(e,r){v(e,t,r)},d(e){e&&A(t)}}}function Ht(n){let t,e,r,o,i,s=n[0].slice(0,8)+"",l,a,f,c=(n[5]/$).toFixed(2)+"",d,S;return{c(){t=m("div"),e=m("div"),r=m("span"),o=B(),i=m("span"),l=R(s),a=B(),f=m("div"),d=R(c),S=R(" SOL"),p(r,"class","my-auto mr-2 rounded-full h-2 w-2 bg-green-500"),p(i,"class","my-auto text-gray-600 text-sm"),p(e,"class","flex"),p(f,"class","text-xs text-gray-600 text-right "),p(t,"class","flex flex-col")},m(g,b){v(g,t,b),u(t,e),u(e,r),u(e,o),u(e,i),u(i,l),u(t,a),u(t,f),u(f,d),u(f,S)},p(g,b){b&1&&s!==(s=g[0].slice(0,8)+"")&&V(l,s),b&32&&c!==(c=(g[5]/$).toFixed(2)+"")&&V(d,c)},d(g){g&&A(t)}}}function Zt(n){let t,e,r;return{c(){t=m("span"),e=B(),r=m("span"),r.textContent="Not Connected",p(t,"class","my-auto mr-2 rounded-full h-2 w-2 bg-gray-500"),p(r,"class","my-auto text-gray-600 text-sm")},m(o,i){v(o,t,i),v(o,e,i),v(o,r,i)},p:N,d(o){o&&A(t),o&&A(e),o&&A(r)}}}function Jt(n){let t,e,r;function o(l,a){return l[3]?re:l[4]?ne:ee}let i=o(n),s=i(n);return{c(){t=m("button"),s.c(),p(t,"class","px-3 py-2 rounded-md bg-sky-600 hover:bg-sky-700 text-white font-bold disabled:bg-gray-400"),t.disabled=n[3]},m(l,a){v(l,t,a),s.m(t,null),e||(r=nt(t,"click",n[16]),e=!0)},p(l,a){i===(i=o(l))&&s?s.p(l,a):(s.d(1),s=i(l),s&&(s.c(),s.m(t,null))),a&8&&(t.disabled=l[3])},d(l){l&&A(t),s.d(),e=!1,r()}}}function Qt(n){let t;return{c(){t=m("button"),t.textContent="Sold Out!",p(t,"class","px-3 py-2 rounded-md bg-sky-600 hover:bg-sky-700 text-white font-bold ")},m(e,r){v(e,t,r)},p:N,d(e){e&&A(t)}}}function Xt(n){let t,e,r=n[13].toUTCString()+"",o;return{c(){t=m("button"),e=R("Mint live @ "),o=R(r),p(t,"class","px-3 py-2 rounded-md bg-sky-600 hover:bg-sky-700 text-white font-bold disabled:bg-gray-400 "),t.disabled=!0},m(i,s){v(i,t,s),u(t,e),u(t,o)},p(i,s){s&8192&&r!==(r=i[13].toUTCString()+"")&&V(o,r)},d(i){i&&A(t)}}}function $t(n){let t,e,r;return{c(){t=m("button"),t.textContent="Connect",p(t,"class","px-3 py-2 rounded-md bg-sky-600 hover:bg-sky-700 text-white font-bold")},m(o,i){v(o,t,i),e||(r=nt(t,"click",n[15]),e=!0)},p:N,d(o){o&&A(t),e=!1,r()}}}function te(n){let t,e,r;return{c(){t=m("button"),t.textContent="Get Phantom Wallet",p(t,"class","px-3 py-2 rounded-md bg-sky-600 hover:bg-sky-700 text-white font-bold")},m(o,i){v(o,t,i),e||(r=nt(t,"click",n[18]),e=!0)},p:N,d(o){o&&A(t),e=!1,r()}}}function ee(n){let t,e,r=((n[11]?n[12]:n[10])/$).toFixed(2)+"",o,i;return{c(){t=m("span"),e=R("Mint ("),o=R(r),i=R(" SOL)")},m(s,l){v(s,t,l),u(t,e),u(t,o),u(t,i)},p(s,l){l&7168&&r!==(r=((s[11]?s[12]:s[10])/$).toFixed(2)+"")&&V(o,r)},d(s){s&&A(t)}}}function ne(n){let t;return{c(){t=m("span"),t.textContent="Mint succesful! Mint another?"},m(e,r){v(e,t,r)},p:N,d(e){e&&A(t)}}}function re(n){let t;return{c(){t=m("span"),t.textContent="Minting ..."},m(e,r){v(e,t,r)},p:N,d(e){e&&A(t)}}}function _t(n){let t,e;return{c(){t=m("a"),e=R("View on Solana Explorer"),p(t,"href",n[7]),p(t,"target","_blank"),p(t,"class","text-purple-700 font-semibold p-1")},m(r,o){v(r,t,o),u(t,e)},p(r,o){o&128&&p(t,"href",r[7])},d(r){r&&A(t)}}}function se(n){let t,e,r,o;const i=[qt,Vt],s=[];function l(a,f){return a[6]?0:1}return e=l(n),r=s[e]=i[e](n),{c(){t=m("main"),r.c(),p(t,"class","h-screen")},m(a,f){v(a,t,f),s[e].m(t,null),o=!0},p(a,[f]){let c=e;e=l(a),e===c?s[e].p(a,f):(Bt(),lt(s[c],1,1,()=>{s[c]=null}),Pt(),r=s[e],r?r.p(a,f):(r=s[e]=i[e](a),r.c()),ct(r,1),r.m(t,null))},i(a){o||(ct(r),o=!0)},o(a){lt(r),o=!1},d(a){a&&A(t),s[e].d()}}}const oe="SOL Galaxy",ie="A collection of Planets on the blockchain",ae="/planet.gif",le=3e4;function ce(n,t,e){let r,o,i;const{solana:s}=window,l="devnet".toString(),a="https://api.devnet.solana.com".toString(),f=new K("BVQQU5G2U2C5B6pN5D1qrujNe5KK6RwoZyYwJGoRUTuQ".toString()),c={preflightCommitment:"processed"},d=new Et(a),S=new It(d,s,c.preflightCommitment);let g="",b=0,y=0,w,E=!1,q=!1,W=0,H=!0,O="",U=!1,j=!1,G=0,Z=!1;async function Q(){try{const h=await s.connect({onlyIfTrusted:!0});e(0,g=h.publicKey.toString()),h&&(await Y(),await x())}catch{}}async function F(){try{const h=await s.connect();e(0,g=h.publicKey.toString()),h&&(await Y(),await x())}catch{}}async function L(){try{const h=await ft.fetchIdl(rt,S),T=new ft(h,rt,S);e(17,w=await Mt(T,f)),e(2,{itemsAvailable:y,itemsRedeemed:b,isSoldOut:U,price:G,isActive:j}=w.state,y,e(1,b),e(8,U),e(10,G),e(9,j))}catch(h){console.error(h)}}async function D(){try{if(e(3,E=!0),(w==null?void 0:w.program)&&g){const h=et.generate(),T=(await Gt(w,new K(g),h))[0];let k={err:!0};T&&(k=await pt(T,le,d,"singleGossip",!0)),(k==null?void 0:k.err)?console.error("An error occurred"):(console.log("Success"),X(h.publicKey))}}catch(h){console.error("An error occurred ",h)}finally{e(3,E=!1)}}async function x(){const h=await d.getParsedTokenAccountsByOwner(new K(g),{programId:I});for(let T=0;T<h.value.length;T++){const k=h.value[T],P=k.account.data.parsed.info.tokenAmount;k.account.data.parsed.info.mint===o.toString()&&P.uiAmount>0&&(console.log("Welcome to the whitelist!"),e(11,Z=!0))}}function X(h){e(1,b+=1),e(4,q=!0),e(7,O=`https://explorer.solana.com/address/${h}?cluster=${l}`)}async function Y(){const h=new K(g);try{e(5,W=await d.getBalance(h))}catch(T){console.error(T)}}Rt(async()=>{await L(),s&&s.isPhantom&&await Q(),e(6,H=!1)});const C=()=>window.open("https://phantom.app/","_blank");return n.$$.update=()=>{var h,T,k;n.$$.dirty&131072&&e(13,r=new Date(((h=w==null?void 0:w.state.goLiveDate)==null?void 0:h.toNumber())*1e3)),n.$$.dirty&131072&&(o=(T=w==null?void 0:w.state.whitelistMintSettings)==null?void 0:T.mint),n.$$.dirty&131072&&e(12,i=(k=w==null?void 0:w.state.whitelistMintSettings)==null?void 0:k.discountPrice)},[g,b,y,E,q,W,H,O,U,j,G,Z,i,r,s,F,D,w,C]}class ue extends vt{constructor(t){super();At(this,t,ce,se,xt,{})}}window.Buffer=Ot.Buffer;new ue({target:document.getElementById("app")});
