import{P as I,T as ht,S as tt,M as it,a as K,b as H,c as yt,K as et,d as at,e as kt,f as St,g as Tt,h as vt,i as At,s as Pt,j as g,k as p,l as v,t as lt,m as xt,n as ct,o as A,C as Et,p as Rt,q as Ct,r as R,u,v as C,w as Bt,x as j,y as It,z as ut,A as N,B as ft,D as dt,L as $,E as nt,F as Kt,G as Lt}from"./vendor.7d3e90d4.js";const Ot=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}};Ot();const rt=new I("cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ"),Z=new I("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),mt=new I("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),Mt=async(n,t)=>{const e=await n.account.candyMachine.fetch(t),r=e.data.itemsAvailable.toNumber(),o=e.itemsRedeemed.toNumber(),i=r-o;return{id:t,program:n,state:{itemsAvailable:r,itemsRedeemed:o,itemsRemaining:i,isSoldOut:i===0,isActive:e.data.goLiveDate.toNumber()<new Date().getTime()/1e3&&(e.endSettings?e.endSettings.endSettingType.date?e.endSettings.number.toNumber()>new Date().getTime()/1e3:o<e.endSettings.number.toNumber():!0),goLiveDate:e.data.goLiveDate,treasury:e.wallet,tokenMint:e.tokenMint,gatekeeper:e.data.gatekeeper,endSettings:e.data.endSettings,whitelistMintSettings:e.data.whitelistMintSettings,hiddenSettings:e.data.hiddenSettings,price:e.data.price}}};var gt;(function(n){n[n.Sequential=0]="Sequential",n[n.Parallel=1]="Parallel",n[n.StopOnFailure=2]="StopOnFailure"})(gt||(gt={}));const Nt=async(n,t,e,r,o=1,i="singleGossip",s=(f,c)=>{},l=(f,c)=>!1,a)=>{const f=[];a||(a=await n.getRecentBlockhash(i));for(let m=0;m<e.length;m++){const b=e[m],y=r[m];if(b.length===0)continue;let w=new ht;b.forEach(E=>w.add(E)),w.recentBlockhash=a.blockhash,w.setSigners(t.publicKey,...y.map(E=>E.publicKey)),y.length>0&&w.partialSign(...y),f.push(w)}const c=await t.signAllTransactions(f),d=[];let S={breakEarly:!1,i:0};console.log("Signed txns length",c.length,"vs handed in length",e.length);for(let m=0;m<c.length;m++){const b=Dt({connection:n,signedTransaction:c[m]});if(b.then(({txid:y,slot:w})=>{s(y,m)}).catch(y=>{l(c[m],m),o===2&&(S.breakEarly=!0,S.i=m)}),o!==1)try{await b}catch(y){if(console.log("Caught failure",y),S.breakEarly)return console.log("Died on ",S.i),{number:S.i,txs:await Promise.all(d)}}else d.push(b)}return o!==1&&await Promise.all(d),{number:c.length,txs:await Promise.all(d)}},st=()=>new Date().getTime()/1e3,Wt=15e3;async function Dt({signedTransaction:n,connection:t,timeout:e=Wt}){const r=n.serialize(),o=st();let i=0;const s=await t.sendRawTransaction(r,{skipPreflight:!0});console.log("Started awaiting confirmation for",s);let l=!1;(async()=>{for(;!l&&st()-o<e;)t.sendRawTransaction(r,{skipPreflight:!0}),await bt(500)})();try{const a=await pt(s,e,t,"recent",!0);if(!a)throw new Error("Timed out awaiting confirmation on transaction");if(a.err)throw console.error(a.err),new Error("Transaction failed: Custom instruction error");i=(a==null?void 0:a.slot)||0}catch(a){if(console.error("Timeout Error caught",a),a.timeout)throw new Error("Timed out awaiting confirmation on transaction");let f=null;try{f=(await Ut(t,n,"single")).value}catch{}if(f&&f.err){if(f.logs)for(let c=f.logs.length-1;c>=0;--c){const d=f.logs[c];if(d.startsWith("Program log: "))throw new Error("Transaction failed: "+d.slice("Program log: ".length))}throw new Error(JSON.stringify(f.err))}}finally{l=!0}return console.log("Latency",s,st()-o),{txid:s,slot:i}}async function Ut(n,t,e){t.recentBlockhash=await n._recentBlockhash(n._disableBlockhashCaching);const r=t.serializeMessage(),l=[t._serialize(r).toString("base64"),{encoding:"base64",commitment:e}],a=await n._rpcRequest("simulateTransaction",l);if(a.error)throw new Error("failed to simulate transaction: "+a.error.message);return a.result}async function pt(n,t,e,r="recent",o=!1){let i=!1,s={slot:0,confirmations:0,err:null},l=0;return s=await new Promise(async(a,f)=>{setTimeout(()=>{i||(i=!0,console.log("Rejecting for timeout..."),f({timeout:!0}))},t);try{l=e.onSignature(n,(c,d)=>{i=!0,s={err:c.err,slot:d.slot,confirmations:0},c.err?(console.log("Rejected via websocket",c.err),f(s)):(console.log("Resolved via websocket",c),a(s))},r)}catch(c){i=!0,console.error("WS error in setup",n,c)}for(;!i&&o;)(async()=>{try{const c=await e.getSignatureStatuses([n]);s=c&&c.value[0],i||(s?s.err?(console.log("REST error for",n,s),i=!0,f(s.err)):s.confirmations?(console.log("REST confirmation for",n,s),i=!0,a(s)):console.log("REST no confirmations for",n,s):console.log("REST null result for",n,s))}catch(c){i||console.log("REST connection error: txid",n,c)}})(),await bt(2e3)}),e._signatureSubscriptions[l]&&e.removeSignatureListener(l),i=!0,console.log("Returning status",s),s}function bt(n){return new Promise(t=>setTimeout(t,n))}const Ft=async(n,t,e)=>{console.log(e.publicKey);const r=(await ot(e.publicKey,t))[0],o=n.state.tokenMint?(await ot(n.state.tokenMint,t))[0]:t,i=n.id,s=[],l=[e],a=[],f=await zt(e.publicKey),c=await Yt(e.publicKey),[d,S]=await Ht(i),m=[tt.createAccount({fromPubkey:t,newAccountPubkey:e.publicKey,space:it.span,lamports:await n.program.provider.connection.getMinimumBalanceForRentExemption(it.span),programId:K}),H.createInitMintInstruction(K,e.publicKey,0,t,t),Gt(r,t,t,e.publicKey),H.createMintToInstruction(K,e.publicKey,r,t,[],1)];if(n.state.whitelistMintSettings){const b=new I(n.state.whitelistMintSettings.mint),y=(await ot(b,t))[0];if(s.push({pubkey:y,isWritable:!0,isSigner:!1}),n.state.whitelistMintSettings.mode.burnEveryTime){const w=et.generate();s.push({pubkey:b,isWritable:!0,isSigner:!1}),s.push({pubkey:w.publicKey,isWritable:!1,isSigner:!0}),l.push(w),await n.program.provider.connection.getAccountInfo(y)&&(m.push(H.createApproveInstruction(K,y,w.publicKey,t,[],1)),a.push(H.createRevokeInstruction(K,y,t,[])))}}if(n.state.tokenMint){const b=et.generate();l.push(b),s.push({pubkey:o,isWritable:!0,isSigner:!1}),s.push({pubkey:b.publicKey,isWritable:!1,isSigner:!0}),m.push(H.createApproveInstruction(K,o,b.publicKey,t,[],n.state.price.toNumber())),a.push(H.createRevokeInstruction(K,o,t,[]))}m.push(await n.program.instruction.mintNft(S,{accounts:{candyMachine:i,candyMachineCreator:d,payer:t,wallet:n.state.treasury,mint:e.publicKey,metadata:f,masterEdition:c,mintAuthority:t,updateAuthority:t,tokenMetadataProgram:Z,tokenProgram:K,systemProgram:tt.programId,rent:at,clock:kt,recentBlockhashes:St,instructionSysvarAccount:Tt},remainingAccounts:s.length>0?s:void 0}));try{return(await Nt(n.program.provider.connection,n.program.provider.wallet,[m,a],[l,[]])).txs.map(b=>b.txid)}catch(b){console.log(b)}return[]},ot=async(n,t)=>await I.findProgramAddress([t.toBuffer(),K.toBuffer(),n.toBuffer()],mt),Gt=(n,t,e,r)=>{const o=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:tt.programId,isSigner:!1,isWritable:!1},{pubkey:K,isSigner:!1,isWritable:!1},{pubkey:at,isSigner:!1,isWritable:!1}];return new yt({keys:o,programId:mt,data:Buffer.from([])})},Yt=async n=>(await I.findProgramAddress([Buffer.from("metadata"),Z.toBuffer(),n.toBuffer(),Buffer.from("edition")],Z))[0],zt=async n=>(await I.findProgramAddress([Buffer.from("metadata"),Z.toBuffer(),n.toBuffer()],Z))[0],Ht=async n=>await I.findProgramAddress([Buffer.from("candy_machine"),n.toBuffer()],rt);function jt(n){let t,e,r,o,i,s,l,a,f,c,d,S,m,b,y,w,E,V,W,q,L,U,z,F,J,Q,G,O,D,P=n[11]&&wt();function X(_,M){return _[0]?qt:Jt}let Y=X(n),B=Y(n);function h(_,M){return _[14]?_[0]?!_[9]&&!_[11]?Xt:_[8]?Qt:Zt:$t:te}let T=h(n),k=T(n),x=n[7]&&_t(n);return{c(){t=C(),e=g("div"),r=g("div"),P&&P.c(),o=C(),i=g("div"),B.c(),s=C(),l=g("hr"),a=C(),f=g("br"),c=C(),d=g("div"),S=g("img"),b=C(),y=g("div"),y.textContent=`${oe}`,w=C(),E=g("div"),E.textContent=`${ie}`,V=C(),W=g("div"),k.c(),q=C(),L=g("div"),U=R(n[1]),z=R("/"),F=R(n[2]),J=R(" claimed"),Q=C(),G=g("div"),x&&x.c(),p(i,"class","flex"),p(r,"class","justify-end flex p-3"),Bt(S.src,m=ae)||p(S,"src",m),p(S,"alt",""),p(S,"class","w-1/2 mx-auto m-5"),p(y,"class","text-lg sm:text-2xl font-mono font-bold py-5 tracking-wider"),p(E,"class","text-sm sm:text-md font-semibold pb-5 text-gray-600 "),p(W,"class","flex flex-col"),p(L,"class","tracking-widest font-bold text-sm pt-3 text-gray-400"),p(G,"class","flex flex-col pt-3"),p(d,"class","p-6"),p(e,"class","max-w-lg mx-auto bg-white rounded-lg my-12 border-2")},m(_,M){v(_,t,M),v(_,e,M),u(e,r),P&&P.m(r,null),u(r,o),u(r,i),B.m(i,null),u(e,s),u(e,l),u(e,a),u(e,f),u(e,c),u(e,d),u(d,S),u(d,b),u(d,y),u(d,w),u(d,E),u(d,V),u(d,W),k.m(W,null),u(d,q),u(d,L),u(L,U),u(L,z),u(L,F),u(L,J),u(d,Q),u(d,G),x&&x.m(G,null),D=!0},p(_,M){_[11]?P||(P=wt(),P.c(),P.m(r,o)):P&&(P.d(1),P=null),Y===(Y=X(_))&&B?B.p(_,M):(B.d(1),B=Y(_),B&&(B.c(),B.m(i,null))),T===(T=h(_))&&k?k.p(_,M):(k.d(1),k=T(_),k&&(k.c(),k.m(W,null))),(!D||M&2)&&j(U,_[1]),(!D||M&4)&&j(F,_[2]),_[7]?x?x.p(_,M):(x=_t(_),x.c(),x.m(G,null)):x&&(x.d(1),x=null)},i(_){D||(It(()=>{O||(O=ut(e,dt,{},!0)),O.run(1)}),D=!0)},o(_){O||(O=ut(e,dt,{},!1)),O.run(0),D=!1},d(_){_&&A(t),_&&A(e),P&&P.d(),B.d(),k.d(),x&&x.d(),_&&O&&O.end()}}}function Vt(n){let t;return{c(){t=g("div"),t.innerHTML='<div class="lds-hourglass m-auto"></div>',p(t,"class","h-full flex")},m(e,r){v(e,t,r)},p:N,i:N,o:N,d(e){e&&A(t)}}}function wt(n){let t;return{c(){t=g("div"),t.innerHTML=`<img src="/star.svg" alt="" class="w-5 mr-2"/> 
            <div class="my-auto text-gray-600 text-sm">Whitelist</div>`,p(t,"class","flex mr-auto")},m(e,r){v(e,t,r)},d(e){e&&A(t)}}}function qt(n){let t,e,r,o,i,s=n[0].slice(0,8)+"",l,a,f,c=(n[5]/$).toFixed(2)+"",d,S;return{c(){t=g("div"),e=g("div"),r=g("span"),o=C(),i=g("span"),l=R(s),a=C(),f=g("div"),d=R(c),S=R(" SOL"),p(r,"class","my-auto mr-2 rounded-full h-2 w-2 bg-green-500"),p(i,"class","my-auto text-gray-600 text-sm"),p(e,"class","flex"),p(f,"class","text-xs text-gray-600 text-right "),p(t,"class","flex flex-col")},m(m,b){v(m,t,b),u(t,e),u(e,r),u(e,o),u(e,i),u(i,l),u(t,a),u(t,f),u(f,d),u(f,S)},p(m,b){b&1&&s!==(s=m[0].slice(0,8)+"")&&j(l,s),b&32&&c!==(c=(m[5]/$).toFixed(2)+"")&&j(d,c)},d(m){m&&A(t)}}}function Jt(n){let t,e,r;return{c(){t=g("span"),e=C(),r=g("span"),r.textContent="Not Connected",p(t,"class","my-auto mr-2 rounded-full h-2 w-2 bg-gray-500"),p(r,"class","my-auto text-gray-600 text-sm")},m(o,i){v(o,t,i),v(o,e,i),v(o,r,i)},p:N,d(o){o&&A(t),o&&A(e),o&&A(r)}}}function Zt(n){let t,e,r;function o(l,a){return l[3]?re:l[4]?ne:ee}let i=o(n),s=i(n);return{c(){t=g("button"),s.c(),p(t,"class","px-3 py-2 rounded-md bg-sky-600 hover:bg-sky-700 text-white font-bold disabled:bg-gray-400"),t.disabled=n[3]},m(l,a){v(l,t,a),s.m(t,null),e||(r=nt(t,"click",n[16]),e=!0)},p(l,a){i===(i=o(l))&&s?s.p(l,a):(s.d(1),s=i(l),s&&(s.c(),s.m(t,null))),a&8&&(t.disabled=l[3])},d(l){l&&A(t),s.d(),e=!1,r()}}}function Qt(n){let t;return{c(){t=g("button"),t.textContent="Sold Out!",p(t,"class","px-3 py-2 rounded-md bg-sky-600 hover:bg-sky-700 text-white font-bold ")},m(e,r){v(e,t,r)},p:N,d(e){e&&A(t)}}}function Xt(n){let t,e,r=n[13].toUTCString()+"",o;return{c(){t=g("button"),e=R("Mint live @ "),o=R(r),p(t,"class","px-3 py-2 rounded-md bg-sky-600 hover:bg-sky-700 text-white font-bold disabled:bg-gray-400 "),t.disabled=!0},m(i,s){v(i,t,s),u(t,e),u(t,o)},p(i,s){s&8192&&r!==(r=i[13].toUTCString()+"")&&j(o,r)},d(i){i&&A(t)}}}function $t(n){let t,e,r;return{c(){t=g("button"),t.textContent="Connect",p(t,"class","px-3 py-2 rounded-md bg-sky-600 hover:bg-sky-700 text-white font-bold")},m(o,i){v(o,t,i),e||(r=nt(t,"click",n[15]),e=!0)},p:N,d(o){o&&A(t),e=!1,r()}}}function te(n){let t,e,r;return{c(){t=g("button"),t.textContent="Get Phantom Wallet",p(t,"class","px-3 py-2 rounded-md bg-sky-600 hover:bg-sky-700 text-white font-bold")},m(o,i){v(o,t,i),e||(r=nt(t,"click",n[18]),e=!0)},p:N,d(o){o&&A(t),e=!1,r()}}}function ee(n){let t,e,r=((n[11]?n[12]:n[10])/$).toFixed(2)+"",o,i;return{c(){t=g("span"),e=R("Mint ("),o=R(r),i=R(" SOL)")},m(s,l){v(s,t,l),u(t,e),u(t,o),u(t,i)},p(s,l){l&7168&&r!==(r=((s[11]?s[12]:s[10])/$).toFixed(2)+"")&&j(o,r)},d(s){s&&A(t)}}}function ne(n){let t;return{c(){t=g("span"),t.textContent="Mint succesful! Mint another?"},m(e,r){v(e,t,r)},p:N,d(e){e&&A(t)}}}function re(n){let t;return{c(){t=g("span"),t.textContent="Minting ..."},m(e,r){v(e,t,r)},p:N,d(e){e&&A(t)}}}function _t(n){let t,e;return{c(){t=g("a"),e=R("View on Solana Explorer"),p(t,"href",n[7]),p(t,"target","_blank"),p(t,"class","text-purple-700 font-semibold p-1")},m(r,o){v(r,t,o),u(t,e)},p(r,o){o&128&&p(t,"href",r[7])},d(r){r&&A(t)}}}function se(n){let t,e,r,o;const i=[Vt,jt],s=[];function l(a,f){return a[6]?0:1}return e=l(n),r=s[e]=i[e](n),{c(){t=g("main"),r.c(),p(t,"class","h-screen")},m(a,f){v(a,t,f),s[e].m(t,null),o=!0},p(a,[f]){let c=e;e=l(a),e===c?s[e].p(a,f):(Ct(),lt(s[c],1,1,()=>{s[c]=null}),xt(),r=s[e],r?r.p(a,f):(r=s[e]=i[e](a),r.c()),ct(r,1),r.m(t,null))},i(a){o||(ct(r),o=!0)},o(a){lt(r),o=!1},d(a){a&&A(t),s[e].d()}}}const oe="SOL Galaxy",ie="A collection of Planets on the blockchain",ae="/planet.gif",le=3e4;function ce(n,t,e){let r,o,i;const{solana:s}=window,l="devnet".toString(),a="https://api.devnet.solana.com".toString(),f=new I("DaeyMAThxu1RbnmH6PTaUwew3JPFQwaYsohU81NPLaSN".toString()),c={preflightCommitment:"processed"},d=new Et(a),S=new Kt(d,s,c.preflightCommitment);let m="",b=0,y=0,w,E=!1,V=!1,W=0,q=!0,L="",U=!1,z=!1,F=0,J=!1;async function Q(){try{const h=await s.connect({onlyIfTrusted:!0});e(0,m=h.publicKey.toString()),h&&(await Y(),await P())}catch{}}async function G(){try{const h=await s.connect();e(0,m=h.publicKey.toString()),h&&(await Y(),await P())}catch{}}async function O(){try{const h=await ft.fetchIdl(rt,S),T=new ft(h,rt,S);e(17,w=await Mt(T,f)),e(2,{itemsAvailable:y,itemsRedeemed:b,isSoldOut:U,price:F,isActive:z}=w.state,y,e(1,b),e(8,U),e(10,F),e(9,z))}catch(h){console.error(h)}}async function D(){try{if(e(3,E=!0),(w==null?void 0:w.program)&&m){const h=et.generate(),T=(await Ft(w,new I(m),h))[0];let k={err:!0};T&&(k=await pt(T,le,d,"singleGossip",!0)),(k==null?void 0:k.err)?console.error("An error occurred"):(console.log("Success"),X(h.publicKey))}}catch(h){console.error("An error occurred ",h)}finally{e(3,E=!1)}}async function P(){const h=await d.getParsedTokenAccountsByOwner(new I(m),{programId:K});for(let T=0;T<h.value.length;T++){const k=h.value[T],x=k.account.data.parsed.info.tokenAmount;k.account.data.parsed.info.mint===o.toString()&&x.uiAmount>0&&(console.log("Welcome to the whitelist!"),e(11,J=!0))}}function X(h){e(1,b+=1),e(4,V=!0),e(7,L=`https://explorer.solana.com/address/${h}?cluster=${l}`)}async function Y(){const h=new I(m);try{e(5,W=await d.getBalance(h))}catch(T){console.error(T)}}Rt(async()=>{await O(),s&&s.isPhantom&&await Q(),e(6,q=!1)});const B=()=>window.open("https://phantom.app/","_blank");return n.$$.update=()=>{var h,T,k;n.$$.dirty&131072&&e(13,r=new Date(((h=w==null?void 0:w.state.goLiveDate)==null?void 0:h.toNumber())*1e3)),n.$$.dirty&131072&&(o=(T=w==null?void 0:w.state.whitelistMintSettings)==null?void 0:T.mint),n.$$.dirty&131072&&e(12,i=(k=w==null?void 0:w.state.whitelistMintSettings)==null?void 0:k.discountPrice)},[m,b,y,E,V,W,q,L,U,z,F,J,i,r,s,G,D,w,B]}class ue extends vt{constructor(t){super();At(this,t,ce,se,Pt,{})}}window.Buffer=Lt.Buffer;new ue({target:document.getElementById("app")});
